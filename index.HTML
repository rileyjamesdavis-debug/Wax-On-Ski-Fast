<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wax On Ski Fast</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Basic styles for input focus */
        .input-style:focus {
            border-color: #047857; /* Tailwind emerald-700 */
            box-shadow: 0 0 0 1px #047857;
        }
    </style>
</head>
<body class="bg-amber-50 text-emerald-900 font-sans">

    <script>
        const LOGO_PATH = './Current WAX on.jpg'; 
        const FORMSPREE_ENDPOINT = 'https://formspree.io/f/mqawzjva'; // <--- YOUR UNIQUE URL IS HERE!
        const CONTACT_PHONE = '7372159897';
        const CONTACT_EMAIL = 'WaxOnSkiFast@gmail.com';
        const INSTAGRAM = 'https://instagram.com/wax_on_ski_fast';

        const services = [
            { id: 'premium', title: 'Premium Wax', desc: 'Long-lasting performance wax for peak conditions.Prices may vary depending on where you are located.', price: '$30' },
            { id: 'premium_tune', title: 'Premium Tune & Wax', desc: 'Full tune plus premium wax for best performance. Prices may vary depending on where you are located.', price: '$65' },
            { id: 'basic', title: 'Basic Wax', desc: 'Quick wax for everyday skiing. Prices may vary depending on where you are located.', price: '$20' },
            { id: 'sharpen', title: 'Sharpen & Tune', desc: 'Edge sharpening + base tune. Prices may vary depending on where you are located.', price: '$45' },
        ];
    </script>
    
    <header class="sticky top-0 z-50 bg-white/90 backdrop-blur-md shadow-sm" id="main-header">
        <div class="container mx-auto px-6 py-3 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <img src="./Current WAX on.jpg" alt="logo" class="w-12 h-12 object-contain" />
                <div>
                    <div class="font-bold">Wax On Ski Fast</div>
                    <div class="text-xs text-gray-600">Mobile waxing & tuning — Cache Valley</div>
                </div>
            </div>
            <nav class="hidden md:flex gap-4 items-center">
                <button data-page="home" class="nav-btn py-2 px-3 rounded bg-emerald-800 text-white">Home</button>
                <button data-page="services" class="nav-btn py-2 px-3 rounded text-emerald-800">Services</button>
                <button data-page="promotions" class="nav-btn py-2 px-3 rounded text-emerald-800">Promotions</button>
                <button data-page="about" class="nav-btn py-2 px-3 rounded text-emerald-800">About</button>
                <button data-page="book" class="nav-btn py-2 px-3 rounded text-amber-900 book-btn">Book Now</button>
                <button data-page="contact" class="nav-btn py-2 px-3 rounded text-emerald-800">Contact</button>
            </nav>
            <div class="md:hidden">
                <select id="mobile-nav" class="rounded-md border-gray-300 p-2">
                    <option value="home">Home</option>
                    <option value="services">Services</option>
                    <option value="promotions">Promotions</option>
                    <option value="about">About</option>
                    <option value="book">Book Now</option>
                    <option value="contact">Contact</option>
                </select>
            </div>
        </div>
    </header>

    <main id="main-content">
        <section id="page-home" class="min-h-[60vh] flex items-center justify-center bg-gradient-to-b from-amber-100 to-emerald-50">
            <div class="container mx-auto px-6 text-center">
                <img src="./Current WAX on.jpg" alt="Wax On Ski Fast" class="mx-auto w-48 h-48 object-contain mb-4"/>
                <h1 class="text-4xl md:text-5xl font-extrabold mb-2 text-emerald-900">Wax On • Ski Fast</h1>
                <p class="text-lg md:text-xl text-amber-800 mb-6">Mobile ski waxing, tuning, and sharpening across Cache Valley.</p>
                <div class="flex justify-center gap-4">
                    <button data-page="book" class="nav-btn px-6 py-3 rounded-2xl bg-emerald-800 text-white font-semibold">Book Now</button>
                    <button data-page="services" class="nav-btn px-6 py-3 rounded-2xl border-2 border-amber-700 text-amber-900 font-semibold">Our Services</button>
                </div>
            </div>
        </section>

        <section id="page-services" class="py-12 container mx-auto px-6 hidden">
            <h2 class="text-3xl font-bold mb-6 text-emerald-900">Services & Pricing</h2>
            <div id="services-grid" class="grid md:grid-cols-3 gap-6">
                </div>
        </section>

        <section id="page-promotions" class="py-12 bg-amber-50 hidden">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold mb-4 text-emerald-900">Promotions</h2>
                <div class="p-6 rounded-2xl bg-white shadow-md">
                    <h3 class="text-xl font-semibold mb-2">Buy 2 Skis, Get 1 Free</h3>
                    <p class="text-gray-700">Bring three pairs of skis — pay for two waxes and get the third one on us. Promotion valid for basic and premium waxes. Mention code <span class="font-mono bg-amber-100 px-2 py-1 rounded">3FOR2</span> when booking.</p>
                </div>
            </div>
        </section>

        <section id="page-about" class="py-12 container mx-auto px-6 hidden">
            <h2 class="text-3xl font-bold mb-4 text-emerald-900">About Us</h2>
            <div class="grid md:grid-cols-2 gap-6 items-center">
                <div>
                    <p class="mb-4 text-gray-700">Wax On Ski Fast is a mobile ski waxing and tuning business serving Cache Valley. We bring professional waxing and tuning services directly to your location, whether that’s your car or your home. Fast turnaround, premium products, and a passion for making your skis perform their best.</p>
                    <ul class="list-disc list-inside text-gray-700">
                        <li>Premium and Basic wax options</li>
                        <li>Sharpening & complete tune services</li>
                        <li>Mobile service across Cache Valley</li>
                    </ul>
                </div>
                <div class="rounded-2xl overflow-hidden shadow-md">
                    <img src="./Current WAX on.jpg" alt="van" class="w-full h-60 object-cover" />
                </div>
            </div>
        </section>

        <section id="page-book" class="py-12 container mx-auto px-6 hidden">
            <h2 class="text-3xl font-bold mb-4 text-emerald-900">Book Now</h2>
            <div class="grid md:grid-cols-2 gap-6">
                <form id="booking-form" class="p-6 bg-white rounded-2xl shadow-md">
                    <label class="block mb-3">
                        <span class="text-sm font-semibold text-gray-700">Full name</span>
                        <input required name="name" class="input-style mt-1 block w-full rounded-md border-gray-300 shadow-sm" />
                    </label>

                    <label class="block mb-3">
                        <span class="text-sm font-semibold text-gray-700">Email</span>
                        <input required name="email" type="email" class="input-style mt-1 block w-full rounded-md border-gray-300 shadow-sm" />
                    </label>

                    <label class="block mb-3">
                        <span class="text-sm font-semibold text-gray-700">Phone</span>
                        <input required name="phone" class="input-style mt-1 block w-full rounded-md border-gray-300 shadow-sm" />
                    </label>

                    <label class="block mb-3">
                        <span class="text-sm font-semibold text-gray-700">Service</span>
                        <select name="service" id="booking-service" class="input-style mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                            </select>
                    </label>

                    <label class="block mb-3">
                        <span class="text-sm font-semibold text-gray-700">Preferred Date / Time</span>
                        <input name="date" placeholder="e.g. 2025-12-20 morning" class="input-style mt-1 block w-full rounded-md border-gray-300 shadow-sm" />
                    </label>

                    <label class="block mb-4">
                        <span class="text-sm font-semibold text-gray-700">Notes</span>
                        <textarea name="notes" class="input-style mt-1 block w-full rounded-md border-gray-300 shadow-sm" rows="4"></textarea>
                    </label>

                    <div class="flex items-center gap-4">
                        <button type="submit" class="px-5 py-2 rounded-2xl bg-emerald-800 text-white font-semibold">Send Booking</button>
                        <span id="form-status" class="text-sm"></span>
                    </div>
                </form>

                <div class="p-6 bg-amber-50 rounded-2xl shadow-md">
                    <h3 class="text-xl font-semibold mb-2">Contact & Info</h3>
                    <p class="mb-2">Phone: <a class="font-mono" id="contact-phone" href="#"></a></p>
                    <p class="mb-2">Email: <a class="font-mono" id="contact-email" href="#"></a></p>
                    <p class="mb-4">Instagram: <a class="underline" id="contact-instagram" href="#" target="_blank" rel="noreferrer"></a></p>

                    <h4 class="font-semibold mb-2">How it works</h4>
                    <ol class="list-decimal list-inside text-gray-700">
                        <li>Choose a service and preferred date/time when booking.</li>
                        <li>We'll confirm availability by email or phone.</li>
                        <li>We arrive at your location, perform waxing/tuning, and collect payment on-site.</li>
                    </ol>

                    <div class="mt-6">
                        <h4 class="font-semibold mb-2">Promotion</h4>
                        <p>Buy 2 skis, get 1 free — mention code <span class="font-mono bg-white px-2 rounded">3FOR2</span> when booking.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="page-contact" class="py-12 container mx-auto px-6 hidden">
            <h2 class="text-3xl font-bold mb-4 text-emerald-900">Contact</h2>
            <div class="p-6 bg-white rounded-2xl shadow-md">
                <p class="mb-2">Phone: <a href="#" class="underline" id="contact-page-phone"></a></p>
                <p class="mb-2">Email: <a href="#" class="underline" id="contact-page-email"></a></p>
                <p>Instagram: <a href="#" target="_blank" rel="noreferrer" class="underline" id="contact-page-instagram"></a></p>
            </div>
        </section>
    </main>

    <footer class="py-8">
        <div class="container mx-auto px-6 text-center text-sm text-gray-700">
            <div class="mb-2">© <span id="current-year"></span> Wax On Ski Fast — Mobile waxing in Cache Valley</div>
            <div>
                Phone: <a href="#" id="footer-phone" class="underline"></a> 
                • Email: <a href="#" id="footer-email" class="underline"></a>
            </div>
        </div>
    </footer>

    <script>
        let currentPage = 'home';
        let bookingData = { service: 'premium' };

        // --- Core Functions ---

        /** Updates the display to show the target page and hides all others. */
        function setPage(pageId) {
            currentPage = pageId;
            document.querySelectorAll('main section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(`page-${pageId}`).classList.remove('hidden');

            // Update navigation styles
            document.querySelectorAll('.nav-btn').forEach(btn => {
                const isCurrent = btn.getAttribute('data-page') === pageId;
                btn.classList.toggle('bg-emerald-800', isCurrent && pageId !== 'book');
                btn.classList.toggle('text-white', isCurrent && pageId !== 'book');
                btn.classList.toggle('text-emerald-800', !isCurrent && pageId !== 'book' && btn.getAttribute('data-page') !== 'book');
                
                btn.classList.toggle('bg-amber-700', isCurrent && pageId === 'book');
                btn.classList.toggle('text-white', isCurrent && pageId === 'book');
                btn.classList.toggle('text-amber-900', !isCurrent && btn.getAttribute('data-page') === 'book');
            });

            // Update mobile select
            const mobileNav = document.getElementById('mobile-nav');
            if(mobileNav) {
                mobileNav.value = pageId;
            }
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        /** Populates the dynamic sections of the site. */
        function initializeContent() {
            document.getElementById('current-year').textContent = new Date().getFullYear();

            // Populate Contact Info
            const contactLinks = [
                { id: 'contact-phone', href: `tel:${CONTACT_PHONE}`, text: CONTACT_PHONE },
                { id: 'contact-email', href: `mailto:${CONTACT_EMAIL}`, text: CONTACT_EMAIL },
                { id: 'contact-instagram', href: INSTAGRAM, text: '@wax_on_ski_fast' },
                { id: 'contact-page-phone', href: `tel:${CONTACT_PHONE}`, text: CONTACT_PHONE },
                { id: 'contact-page-email', href: `mailto:${CONTACT_EMAIL}`, text: CONTACT_EMAIL },
                { id: 'contact-page-instagram', href: INSTAGRAM, text: '@wax_on_ski_fast' },
                { id: 'footer-phone', href: `tel:${CONTACT_PHONE}`, text: CONTACT_PHONE },
                { id: 'footer-email', href: `mailto:${CONTACT_EMAIL}`, text: CONTACT_EMAIL },
            ];

            contactLinks.forEach(link => {
                const element = document.getElementById(link.id);
                if (element) {
                    element.href = link.href;
                    element.textContent = link.text;
                }
            });

            // Populate Services Grid
            const servicesGrid = document.getElementById('services-grid');
            services.forEach(s => {
                const card = document.createElement('div');
                card.className = 'p-6 rounded-2xl shadow-md bg-white';
                card.innerHTML = `
                    <h3 class="text-xl font-semibold mb-2">${s.title}</h3>
                    <p class="mb-4 text-sm text-gray-700">${s.desc}</p>
                    <div class="flex items-center justify-between">
                        <span class="font-bold text-amber-900">${s.price}</span>
                        <button data-service-id="${s.id}" class="select-service-btn px-4 py-2 rounded-full bg-emerald-800 text-white text-sm">Select</button>
                    </div>
                `;
                servicesGrid.appendChild(card);
            });

            // Populate Booking Form Service Select
            const serviceSelect = document.getElementById('booking-service');
            services.forEach(s => {
                const option = document.createElement('option');
                option.value = s.id;
                option.textContent = s.title;
                if (s.id === 'premium') option.selected = true;
                serviceSelect.appendChild(option);
            });
        }

        // --- Event Handlers ---

        /** Handles navigation clicks. */
        function handleNavigationClick(e) {
            const page = e.target.closest('.nav-btn')?.getAttribute('data-page');
            if (page) {
                setPage(page);
            }
        }

        /** Handles 'Select' button on the Services page. */
        function handleServiceSelect(e) {
            const btn = e.target.closest('.select-service-btn');
            if (btn) {
                const serviceId = btn.getAttribute('data-service-id');
                const serviceSelect = document.getElementById('booking-service');
                if(serviceSelect) serviceSelect.value = serviceId;
                setPage('book');
            }
        }

        /** Handles form submission via Formspree endpoint. */
        async function submitBooking(e) {
            e.preventDefault();
            const form = e.target;
            const statusElement = document.getElementById('form-status');
            statusElement.textContent = 'Sending...';
            statusElement.className = 'text-sm text-gray-500';

            const formData = new FormData(form);
            const data = {
                "Name": formData.get('name'),
                "Email": formData.get('email'),
                "Phone": formData.get('phone'),
                "Service": services.find(s => s.id === formData.get('service')).title, // Send the title, not the ID
                "Date": formData.get('date'),
                "Notes": formData.get('notes'),
            };

            try {
                const res = await fetch(FORMSPREE_ENDPOINT, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data),
                });
                
                if (res.ok) {
                    statusElement.textContent = 'Booking sent! We\'ll contact you soon.';
                    statusElement.className = 'text-sm text-emerald-700 font-semibold';
                    form.reset(); // Clear form on success
                    document.getElementById('booking-service').value = 'premium'; // Reset service
                } else {
                    statusElement.textContent = 'There was an error sending your booking. Try again later.';
                    statusElement.className = 'text-sm text-red-600 font-semibold';
                }
            } catch (err) {
                console.error(err);
                statusElement.textContent = 'A network error occurred. Please check your connection.';
                statusElement.className = 'text-sm text-red-600 font-semibold';
            }
        }


        // --- Initialization on Load ---

        document.addEventListener('DOMContentLoaded', () => {
            initializeContent();
            setPage('home'); // Set initial page

            // Attach listeners
            document.getElementById('main-header').addEventListener('click', handleNavigationClick);
            // Ensure nav buttons that live in main content (e.g. the home page buttons) are handled
            const mainContent = document.getElementById('main-content');
            if (mainContent) mainContent.addEventListener('click', handleNavigationClick);
            document.getElementById('services-grid').addEventListener('click', handleServiceSelect);
            document.getElementById('booking-form').addEventListener('submit', submitBooking);
            
            const mobileNav = document.getElementById('mobile-nav');
            if(mobileNav) {
                mobileNav.addEventListener('change', (e) => setPage(e.target.value));
            }
        });

    </script>
</body>
</html>

